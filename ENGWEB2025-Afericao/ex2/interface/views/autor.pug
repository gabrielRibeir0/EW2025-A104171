extends layout

block content
  .w3-container
    header.w3-container.w3-teal.w3-center.w3-padding-32
      h1.w3-xxxlarge Biblioteca de Livros
      p.w3-large Sistema de gerenciamento e consulta de obras literárias
    
    main.w3-container.w3-margin-top
      .w3-panel.w3-light-grey.w3-padding-16.w3-round-large
        h2.w3-text-teal
          i.fa.fa-book.w3-margin-right
          | Catálogo de Livros
        
        a.w3-button.w3-teal.w3-round-large.w3-margin-bottom(href='/')
          i.fa.fa-arrow-left.w3-margin-right
          | Voltar à Página Principal

        .w3-container.w3-margin-top
          .w3-panel.w3-pale-blue.w3-leftbar.w3-border-blue
            h4 Estatísticas
            p
              strong Total de Livros: 
              span.w3-large #{livros.length}
        
        .w3-responsive
          table.w3-table-all.w3-hoverable.w3-card-4
            thead
              tr.w3-teal
                th ID
                th Título
                th Autor
                th Data de Publicação
                th Páginas
            tbody
              each livro in livros
                tr
                  td
                    a.w3-text-blue(href='/livros/' + livro._id) #{livro._id}
                  td= livro.title
                  td
                    if Array.isArray(livro.author)
                      each autor, index in livro.author
                        if index > 0
                          | , 
                        a.w3-text-blue(href='/autores/' + autor) #{autor}
                    else
                      a.w3-text-blue(href='/autores/' + livro.author) #{livro.author}
                  td= livro.publishDate
                  td= livro.pages
    
    footer.w3-container.w3-teal.w3-center.w3-padding-16.w3-margin-top
      p &copy; 2025 Sistema de Livros. Todos os direitos reservados.